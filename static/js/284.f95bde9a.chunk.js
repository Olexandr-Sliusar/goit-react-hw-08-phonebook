"use strict";(self.webpackChunkreact_hw_08_phonebook=self.webpackChunkreact_hw_08_phonebook||[]).push([[284],{1284:function(e,n,t){t.r(n),t.d(n,{default:function(){return de}});var a,r,o,s,i,c,l=t(9439),d=t(493),u=t(9434),m=t(3634),p=t(2791),x=t(168),h=t(7691),f=t(5705),g=(0,h.ZP)(f.l0)(a||(a=(0,x.Z)(["\n  width: 300px;\n  padding: 8px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),b=h.ZP.label(r||(r=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n"]))),j=t(971),Z=t(6727),v=function(e){return e.contacts.items},y=function(e){return e.contacts.isLoading},C=function(e){return e.contacts.error},w=t(6151),k=t(184),S=Z.Ry().shape({name:Z.Z_().min(2,"Too short, minimal length 2!").max(50,"Too long, maximul length 50!").required("Required").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Not valid! Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"),number:Z.Z_().matches(/^\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/,"Not valid! Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").min(7,"Too short, minimal length 7!").required("Required")}),A=function(e){var n=e.onClose,t=e.showSnake,a=(0,u.v9)(v),r=(0,u.I0)();return(0,k.jsx)(f.J9,{initialValues:{name:"",number:""},validationSchema:S,onSubmit:function(e,o){a.find((function(n){return n.name.toLowerCase()===e.name.toLowerCase()}))?alert("".concat(e.name," is already in contacts")):(r((0,m.uK)(e)),o.resetForm(),t("Contact successfully added"),n())},children:(0,k.jsxs)(g,{children:[(0,k.jsx)(b,{children:(0,k.jsx)(f.gN,{component:j.n,variant:"standard",label:"Name",type:"text",name:"name",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"})}),(0,k.jsx)(b,{children:(0,k.jsx)(f.gN,{component:j.n,variant:"standard",label:"Number",type:"tel",name:"number",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"})}),(0,k.jsx)(w.Z,{variant:"contained",type:"submit","aria-label":"Add contact",sx:{marginTop:"20px"},children:"Add contact"})]})})},P=t(6429),N=t(7630),z=(0,N.ZP)("form")({display:"flex",alignItems:"stretch",flexDirection:"column",justifyContent:"center","& .MuiTextField-root":{margin:"10px 0",width:"300px",display:"flex",flexDirection:"column",gap:"4px"},"& .MuiButton-root":{marginTop:"20px"}}),F=function(e){var n=e.onClose,t=e.values,a=e.showSnake,r=t.id,o=(0,p.useState)(t.name),s=(0,l.Z)(o,2),i=s[0],c=s[1],d=(0,p.useState)(t.number),x=(0,l.Z)(d,2),h=x[0],f=x[1],g=(0,u.v9)(v),b=(0,u.I0)(),j=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":c(a);break;case"number":f(a)}};return(0,k.jsxs)(z,{onSubmit:function(e){e.preventDefault();var t={id:r,name:i,number:h},o=g.find((function(e){return e.name===i&&e.number===h}));void 0!==o?alert('"'.concat(i,'" and "').concat(h,'" is already in contacts.')):b((0,m.mP)(t)),e.currentTarget.reset(),a("contact successfully updated"),n()},children:[(0,k.jsx)(P.Z,{variant:"standard",label:"Name",value:i,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:j}),(0,k.jsx)(P.Z,{variant:"standard",label:"Number",value:h,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:j}),(0,k.jsx)(w.Z,{type:"submit",variant:"contained","aria-label":"edit contact",children:"Edit contact"})]})},T=t(4164),I=h.ZP.div(o||(o=(0,x.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 1200;\n"]))),L=h.ZP.div(s||(s=(0,x.Z)(["\n  background-color: #fff;\n  padding: 20px;\n"]))),_=document.querySelector("#modal-root"),q=function(e){var n=e.onClose,t=e.edit,a=e.values,r=e.showSnake;(0,p.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){if("Escape"===e.code||e.target===e.currentTarget)return n()};return(0,T.createPortal)((0,k.jsx)(I,{onClick:o,children:(0,k.jsx)(L,{children:t?(0,k.jsx)(F,{onClose:n,values:a,showSnake:r}):(0,k.jsx)(A,{onClose:n,showSnake:r})})}),_)},B=t(645),E=t(4852),D=t(653),J=t(3044),M=t(6259),R=t(4554),$=t(3768),K=t(3400),O=t(1421),V=t(7247),G=t(7029),H=(0,N.ZP)(E.ZP)({padding:"4px 12px",borderBottom:"2px dotted #bdbdbd55","&:hover":{borderBottom:"2px solid "+G.r.palette.primary.main,backgroundColor:"".concat(G.r.palette.primary.main,"11")}}),W=function(e){var n=e.contactItem,t=e.showSnake,a=(0,p.useState)(!1),r=(0,l.Z)(a,2),o=r[0],s=r[1],i=function(){return s((function(e){return!e}))},c=(0,u.I0)(),d=n.id,x=n.name,h=n.number;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(H,{children:[(0,k.jsx)(D.Z,{children:(0,k.jsx)(J.Z,{children:(0,k.jsx)(O.Z,{})})}),(0,k.jsx)(M.Z,{primary:x,secondary:h}),(0,k.jsxs)(R.Z,{children:[(0,k.jsx)($.Z,{title:"Edit contact",children:(0,k.jsx)(K.Z,{edge:"end","aria-label":"edit",type:"button",onClick:i,sx:{mr:1},children:(0,k.jsx)(B.Z,{})})}),(0,k.jsx)($.Z,{title:"Delete contact",children:(0,k.jsx)(K.Z,{edge:"end","aria-label":"delete",type:"button",onClick:function(){c((0,m.GK)(d)),t("contact successfully deleted")},children:(0,k.jsx)(V.Z,{})})})]})]}),o&&(0,k.jsx)(q,{onClose:i,edit:!0,values:n,showSnake:t})]})},Q=function(e){return e.filter},U=function(e){var n=e.showSnake,t=(0,u.v9)(v),a=(0,u.v9)(Q),r=(0,u.v9)(y),o=function(){var e=a.toLowerCase();return t.filter((function(n){return n.name.toLowerCase().includes(e)}))};return 0!==o().length||r?(0,k.jsx)(d.Z,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:o().map((function(e){return(0,k.jsx)(W,{contactItem:e,showSnake:n},e.id)}))}):(0,k.jsx)("p",{children:" There is no contacts"})},X=h.ZP.label(i||(i=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  padding: 8px;\n  align-items: 'flex-end';\n"]))),Y=(0,h.ZP)(f.gN)(c||(c=(0,x.Z)(["\n  &svg {\n    margin-right: 100px;\n  }\n"]))),ee=t(1273),ne=t(5403),te=function(){var e=(0,u.I0)(),n=(0,u.v9)(Q);return(0,k.jsx)(f.J9,{initialValues:{name:""},children:(0,k.jsx)(X,{children:(0,k.jsx)(Y,{component:j.n,placeholder:"Find contact by name",type:"text",name:"name",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:function(n){e((0,ee.Tv)(n.currentTarget.value))},value:n,autoComplete:"off",autoFocus:!0,InputProps:{startAdornment:(0,k.jsx)(ne.Z,{position:"start",style:{color:"#74747455",marginRight:"10px"}})},children:(0,k.jsx)(ne.Z,{position:"start",style:{color:"#747474"}})})})})},ae=t(9877),re=t(1413),oe=t(3543),se=t(9658),ie=p.forwardRef((function(e,n){return(0,k.jsx)(se.Z,(0,re.Z)({elevation:6,ref:n,variant:"filled"},e))})),ce=function(e){var n=e.params,t=n.isOpen,a=n.onClose,r=n.text;return(0,k.jsx)(oe.Z,{open:t,autoHideDuration:5e3,onClose:a,children:(0,k.jsx)(ie,{severity:"success",children:r})})},le=t(2419);function de(){var e=(0,u.I0)(),n=(0,u.v9)(y),t=(0,p.useState)(!1),a=(0,l.Z)(t,2),r=a[0],o=a[1],s=(0,p.useState)(!1),i=(0,l.Z)(s,2),c=i[0],d=i[1],x=(0,p.useState)(""),h=(0,l.Z)(x,2),f=h[0],g=h[1],b=function(e){d(!0),g(e)},j=function(){return o((function(e){return!e}))},Z=(0,u.v9)(C);return(0,p.useEffect)((function(){e((0,m.yF)())}),[e]),(0,k.jsxs)(R.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:2},children:[" ",(0,k.jsxs)(R.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:3},children:[(0,k.jsx)($.Z,{title:"Add contact",children:(0,k.jsx)(ae.Z,{size:"medium",color:"secondary",onClick:j,"aria-label":"add contact",children:(0,k.jsx)(le.Z,{sx:{color:G.r.palette.primary.contrastText}})})}),(0,k.jsx)(te,{})]}),(0,k.jsx)(k.Fragment,{children:n&&!Z&&(0,k.jsx)(k.Fragment,{children:"Loading..."})}),(0,k.jsx)(U,{showSnake:b}),r&&(0,k.jsx)(q,{onClose:j,showSnake:b}),(0,k.jsx)(ce,{params:{isOpen:c,onClose:function(){return d(!1)},text:f}})]})}}}]);
//# sourceMappingURL=284.f95bde9a.chunk.js.map