"use strict";(self.webpackChunkreact_hw_08_phonebook=self.webpackChunkreact_hw_08_phonebook||[]).push([[272],{8272:function(e,n,t){t.r(n),t.d(n,{default:function(){return he}});var a,r,o,s,i,c,d,l,u=t(9439),m=t(493),h=t(9434),p=t(3634),x=t(2791),f=t(168),g=t(7691),b=t(5705),j=(0,g.ZP)(b.l0)(a||(a=(0,f.Z)(["\n  width: 300px;\n  padding: 8px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),Z=g.ZP.label(r||(r=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n"]))),y=t(971),v=t(6727),C=function(e){return e.contacts.items},w=function(e){return e.contacts.isLoading},k=function(e){return e.contacts.error},A=t(6151),S=t(184),N=v.Ry().shape({name:v.Z_().min(2,"Too short, minimal length 2!").max(50,"Too long, maximul length 50!").required("Required").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Not valid! Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"),number:v.Z_().matches(/^\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/,"Not valid! Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").min(7,"Too short, minimal length 7!").required("Required")}),P=function(e){var n=e.onClose,t=e.showSnake,a=(0,h.v9)(C),r=(0,h.I0)();return(0,S.jsx)(b.J9,{initialValues:{name:"",number:""},validationSchema:N,onSubmit:function(e,o){a.find((function(n){return n.name.toLowerCase()===e.name.toLowerCase()}))?alert("".concat(e.name," is already in contacts")):(r((0,p.uK)(e)),o.resetForm(),t("Contact successfully added"),n())},children:(0,S.jsxs)(j,{children:[(0,S.jsx)(Z,{children:(0,S.jsx)(b.gN,{component:y.n,variant:"standard",label:"Name",type:"text",name:"name",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"})}),(0,S.jsx)(Z,{children:(0,S.jsx)(b.gN,{component:y.n,variant:"standard",label:"Number",type:"tel",name:"number",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"})}),(0,S.jsx)(A.Z,{variant:"contained",type:"submit","aria-label":"Add contact",sx:{marginTop:"20px"},children:"Add contact"})]})})},z=t(1413),F=(0,g.ZP)(b.l0)(o||(o=(0,f.Z)(["\n  width: 300px;\n  padding: 8px;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),T=g.ZP.label(s||(s=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n"]))),I=v.Ry().shape({name:v.Z_().min(2,"Too short, minimal length 2!").max(50,"Too long, maximul length 50!").required("Required").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Not valid! Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"),number:v.Z_().matches(/^\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}$/,"Not valid! Phone number must be digits and can contain spaces, dashes, parentheses and can start with +").min(7,"Too short, minimal length 7!").required("Required")}),_=function(e){var n=e.onClose,t=e.valuesContact,a=e.showSnake,r=(0,h.I0)(),o=t.id,s=t.name,i=t.number;return(0,S.jsx)(b.J9,{initialValues:{name:s,number:i},validationSchema:I,onSubmit:function(e,t){r((0,p.mP)((0,z.Z)({id:o},e))),t.resetForm(),a("Contact successfully updated"),n()},children:(0,S.jsxs)(F,{children:[(0,S.jsx)(T,{children:(0,S.jsx)(b.gN,{component:y.n,variant:"standard",label:"Name",type:"text",name:"name",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"})}),(0,S.jsx)(T,{children:(0,S.jsx)(b.gN,{component:y.n,variant:"standard",label:"Number",type:"tel",name:"number",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"})}),(0,S.jsx)(A.Z,{variant:"contained",type:"submit","aria-label":"Add contact",sx:{marginTop:"20px"},children:"Add contact"})]})})},q=t(4164),J=g.ZP.div(i||(i=(0,f.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 1200;\n"]))),L=g.ZP.div(c||(c=(0,f.Z)(["\n  background-color: #fff;\n  padding: 20px;\n"]))),R=document.querySelector("#modal-root"),B=function(e){var n=e.onClose,t=e.edit,a=e.values,r=e.showSnake;(0,x.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){if("Escape"===e.code||e.target===e.currentTarget)return n()};return(0,q.createPortal)((0,S.jsx)(J,{onClick:o,children:(0,S.jsx)(L,{children:t?(0,S.jsx)(_,{onClose:n,valuesContact:a,showSnake:r}):(0,S.jsx)(P,{onClose:n,showSnake:r})})}),R)},E=t(645),M=t(7630),$=t(4852),D=t(653),V=t(3044),K=t(6259),O=t(4554),G=t(3768),H=t(3400),W=t(1421),Q=t(7247),U=t(7029),X=(0,M.ZP)($.ZP)({padding:"4px 12px",borderBottom:"2px dotted #bdbdbd55","&:hover":{borderBottom:"2px solid "+U.r.palette.primary.main,backgroundColor:"".concat(U.r.palette.primary.main,"11")}}),Y=function(e){var n=e.contactItem,t=e.showSnake,a=(0,x.useState)(!1),r=(0,u.Z)(a,2),o=r[0],s=r[1],i=function(){return s((function(e){return!e}))},c=(0,h.I0)(),d=n.id,l=n.name,m=n.number;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(X,{children:[(0,S.jsx)(D.Z,{children:(0,S.jsx)(V.Z,{children:(0,S.jsx)(W.Z,{})})}),(0,S.jsx)(K.Z,{primary:l,secondary:m}),(0,S.jsxs)(O.Z,{children:[(0,S.jsx)(G.Z,{title:"Edit contact",children:(0,S.jsx)(H.Z,{edge:"end","aria-label":"edit",type:"button",onClick:i,sx:{mr:1},children:(0,S.jsx)(E.Z,{})})}),(0,S.jsx)(G.Z,{title:"Delete contact",children:(0,S.jsx)(H.Z,{edge:"end","aria-label":"delete",type:"button",onClick:function(){c((0,p.GK)(d)),t("contact successfully deleted")},children:(0,S.jsx)(Q.Z,{})})})]})]}),o&&(0,S.jsx)(B,{onClose:i,edit:!0,values:n,showSnake:t})]})},ee=function(e){return e.filter},ne=function(e){var n=e.showSnake,t=(0,h.v9)(C),a=(0,h.v9)(ee),r=(0,h.v9)(w),o=function(){var e=a.toLowerCase();return t.filter((function(n){return n.name.toLowerCase().includes(e)}))};return 0!==o().length||r?(0,S.jsx)(m.Z,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:o().map((function(e){return(0,S.jsx)(Y,{contactItem:e,showSnake:n},e.id)}))}):(0,S.jsx)("p",{children:" There is no contacts"})},te=g.ZP.label(d||(d=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  padding: 8px;\n  align-items: 'flex-end';\n"]))),ae=(0,g.ZP)(b.gN)(l||(l=(0,f.Z)(["\n  &svg {\n    margin-right: 100px;\n  }\n"]))),re=t(1273),oe=t(5403),se=function(){var e=(0,h.I0)(),n=(0,h.v9)(ee);return(0,S.jsx)(b.J9,{initialValues:{name:""},children:(0,S.jsx)(te,{children:(0,S.jsx)(ae,{component:y.n,placeholder:"Find contact by name",type:"text",name:"name",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:function(n){e((0,re.Tv)(n.currentTarget.value))},value:n,autoComplete:"off",autoFocus:!0,InputProps:{startAdornment:(0,S.jsx)(oe.Z,{position:"start",style:{color:"#74747455",marginRight:"10px"}})},children:(0,S.jsx)(oe.Z,{position:"start",style:{color:"#747474"}})})})})},ie=t(9877),ce=t(3543),de=t(9658),le=x.forwardRef((function(e,n){return(0,S.jsx)(de.Z,(0,z.Z)({elevation:6,ref:n,variant:"filled"},e))})),ue=function(e){var n=e.params,t=n.isOpen,a=n.onClose,r=n.text;return(0,S.jsx)(ce.Z,{open:t,autoHideDuration:5e3,onClose:a,children:(0,S.jsx)(le,{severity:"success",children:r})})},me=t(2419);function he(){var e=(0,h.I0)(),n=(0,h.v9)(w),t=(0,x.useState)(!1),a=(0,u.Z)(t,2),r=a[0],o=a[1],s=(0,x.useState)(!1),i=(0,u.Z)(s,2),c=i[0],d=i[1],l=(0,x.useState)(""),m=(0,u.Z)(l,2),f=m[0],g=m[1],b=function(e){d(!0),g(e)},j=function(){return o((function(e){return!e}))},Z=(0,h.v9)(k);return(0,x.useEffect)((function(){e((0,p.yF)())}),[e]),(0,S.jsxs)(O.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:2},children:[" ",(0,S.jsxs)(O.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:3},children:[(0,S.jsx)(G.Z,{title:"Add contact",children:(0,S.jsx)(ie.Z,{size:"medium",color:"secondary",onClick:j,"aria-label":"add contact",children:(0,S.jsx)(me.Z,{sx:{color:U.r.palette.primary.contrastText}})})}),(0,S.jsx)(se,{})]}),(0,S.jsx)(S.Fragment,{children:n&&!Z&&(0,S.jsx)(S.Fragment,{children:"Loading..."})}),(0,S.jsx)(ne,{showSnake:b}),r&&(0,S.jsx)(B,{onClose:j,showSnake:b}),(0,S.jsx)(ue,{params:{isOpen:c,onClose:function(){return d(!1)},text:f}})]})}}}]);
//# sourceMappingURL=272.62cf0d7e.chunk.js.map